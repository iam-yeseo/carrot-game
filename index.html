<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Project Carrot v0.3.6</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="app">
      <!-- Top Bar -->
      <header class="topbar">
        <div class="topbar__left">
          <div class="title">
            <div class="title__main">
              Project Carrot <span class="badge">v0.3.6</span>
            </div>
            <div class="title__sub" id="dateLine">1일차 오전</div>
            <div class="title__tab" id="tabLine">마구간</div>
          </div>
        </div>

        <div class="topbar__right">
          <div class="pill">
            <div class="pill__label">AP</div>
            <div class="pill__value" id="apLine">10/10</div>
          </div>

          <button
            class="pill pill--clickable"
            id="moneyPill"
            aria-label="소지금(개발자 모드)"
          >
            <div class="pill__label">소지금</div>
            <div class="pill__value" id="moneyLine">10,000원</div>
          </button>

          <button
            class="iconbtn"
            id="openSettingsBtn"
            aria-label="설정 열기"
            title="설정"
          >
            ⚙️
          </button>
        </div>
      </header>

      <!-- Content -->
      <main class="content" id="content">
        <!-- STABLE -->
        <section class="view" id="view-stable" data-view="stable">
          <div class="panel">
            <div class="panel__head">
              <div class="panel__title">마구간</div>
              <div class="panel__actions">
                <button class="btn btn--ghost" id="openHorseStorageBtn">
                  말 보관함
                </button>
                <button class="btn btn--ghost" id="renameHorseBtn">
                  이름 변경
                </button>
              </div>
            </div>

            <div id="stableHorseArea" class="horseCard"></div>
          </div>

          <div class="panel">
            <div class="panel__head">
              <div class="panel__title">인벤토리</div>
              <div class="panel__desc">
                아이템을 눌러 사용 개수를 지정할 수 있어요.
              </div>
            </div>
            <div id="inventoryGrid" class="grid2"></div>
            <div id="inventoryEmpty" class="empty" style="display: none">
              인벤토리가 비어있어요 🧺
            </div>
          </div>
        </section>

        <!-- SHOP -->
        <section class="view" id="view-shop" data-view="shop" hidden>
          <div class="panel">
            <div class="panel__head">
              <div class="panel__title">상점</div>
              <div class="panel__desc">쇼핑몰 감성(플랫 버전) 🛒</div>
            </div>

            <div class="tabs" role="tablist" aria-label="상점 카테고리">
              <button class="tab is-active" data-shopcat="manage" role="tab">
                관리 아이템
              </button>
              <button class="tab" data-shopcat="growth" role="tab">
                성장 아이템
              </button>
              <button class="tab" data-shopcat="special" role="tab">
                특수 아이템
              </button>
            </div>

            <div id="shopGrid" class="shopGrid"></div>
          </div>

          <!-- Lottery box PART B: below items -->
          <div class="panel">
            <div class="panel__head">
              <div class="panel__title">홀스로또 6/45</div>
              <div class="panel__desc">
                1~45에서 6개 선택 · 하루 1회 · 결과는 다음 날 오전에 발표
              </div>
            </div>

            <div class="lotto">
              <div class="lotto__meta">
                <div class="lotto__price">가격: <b>5,000원</b></div>
                <div class="lotto__limit" id="lottoLimitLine"></div>
              </div>

              <div class="lotto__pick">
                <div class="lotto__picked" id="lottoPickedLine">
                  선택: (0/6)
                </div>
                <button class="btn btn--ghost" id="lottoClearBtn">
                  초기화
                </button>
              </div>

              <div class="lottoGrid" id="lottoGrid"></div>

              <div class="lotto__actions">
                <button class="btn" id="buyLottoBtn">홀스로또 구매</button>
              </div>

              <div
                class="lotto__result"
                id="lottoResultBox"
                style="display: none"
              ></div>
            </div>
          </div>
        </section>

        <!-- JOB -->
        <section class="view" id="view-job" data-view="job" hidden>
          <div class="panel">
            <div class="panel__head">
              <div class="panel__title">알바</div>
              <div class="panel__desc">
                AP 1 소비 · 1,000~100,000원 랜덤 (낮은 금액이 훨씬 잘 나옴)
              </div>
            </div>
            <button class="btn btn--wide" id="doJobBtn">알바하기</button>
            <div class="log" id="jobLog"></div>
          </div>
        </section>

        <!-- GACHA -->
        <section class="view" id="view-gacha" data-view="gacha" hidden>
          <div class="panel">
            <div class="panel__head">
              <div class="panel__title">뽑기</div>
              <div class="panel__desc">
                새 말을 뽑아 마구간(최대 5마리)에 데려오세요.
              </div>
            </div>

            <div class="gachaBox">
              <div class="gachaBox__crate" id="gachaCrate" aria-hidden="true">
                🎁
              </div>
              <div class="gachaBox__info">
                <div>뽑기 비용: <b id="gachaCostLine">30,000원</b></div>
                <div class="muted">※ “진짜 뽑을까요?” 확인 후 진행됩니다.</div>
              </div>
            </div>

            <button class="btn btn--wide" id="openGachaConfirmBtn">
              말 뽑기
            </button>
            <div class="log" id="gachaLog"></div>
          </div>
        </section>

        <!-- GRAND PRIX -->
        <section class="view" id="view-gp" data-view="gp" hidden>
          <div class="panel">
            <div class="panel__head">
              <div class="panel__title">그랑프리</div>
              <div class="panel__desc">
                AP 5 소비 · 현재 말 컨디션 기반 우승 확률로 도전!
              </div>
            </div>

            <div class="gpBox" id="gpBox"></div>

            <button class="btn btn--wide" id="doGpBtn">그랑프리 참가</button>
            <div class="log" id="gpLog"></div>
          </div>
        </section>
      </main>

      <!-- Bottom Nav -->
      <nav class="bottomNav" role="navigation" aria-label="하단 탭">
        <button class="navItem is-active" data-nav="stable">마구간</button>
        <button class="navItem" data-nav="shop">상점</button>
        <button class="navItem" data-nav="job">알바</button>
        <button class="navItem" data-nav="gacha">뽑기</button>
        <button class="navItem" data-nav="gp">그랑프리</button>
      </nav>

      <!-- Floating: Next Time (swapped with settings) -->
      <button class="fab" id="nextTimeBtn" aria-label="다음 시간으로">
        다음 시간 ▶
      </button>

      <!-- Modal -->
      <div class="backdrop" id="backdrop" hidden></div>
      <div class="modal" id="modal" hidden role="dialog" aria-modal="true">
        <div class="modal__head">
          <div class="modal__title" id="modalTitle">제목</div>
          <button class="iconbtn" id="closeModalBtn" aria-label="닫기">
            ✕
          </button>
        </div>
        <div class="modal__body" id="modalBody"></div>
        <div class="modal__foot" id="modalFoot"></div>
      </div>

      <!-- Toast -->
      <div class="toast" id="toast" hidden></div>
    </div>

    <script src="game.js"></script>
  </body>
</html>
